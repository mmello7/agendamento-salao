allprojects {
    repositories {
        google()
        mavenCentral()
    }
}

// Redefine o buildDir do rootProject
rootProject.buildDir = file("../../build")

subprojects {
    // Redefine o buildDir de cada subprojeto
    project.buildDir = file("../../build/" + project.name)
}

// Garante que :app seja avaliado antes dos subprojetos
subprojects {
    evaluationDependsOn(":app")
}

// Task clean
tasks.register("clean", Delete) {
    delete rootProject.layout.buildDirectory
}
